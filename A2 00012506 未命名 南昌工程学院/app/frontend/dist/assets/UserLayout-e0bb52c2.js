import{_ as x,u as h,q as I,r as v,s as b,k as L,w as S,b as o,o as y,c as z,e as s,f as t,v as f,U as C,d as e,V,O as E,A as M,j as W,H as $,l as D,D as R,G as O,h as P,t as T}from"./index-06309a7e.js";import{_ as j}from"./logo-82ea06d7.js";const q={key:0,class:"bottom-nav"},A={__name:"BottomNavUser",setup(c){const n=h(),d=I(),u=v(d.path),p=v(window.innerWidth<600),r=i=>{n.push(i)},a=()=>{p.value=window.innerWidth<600};return b(()=>{window.addEventListener("resize",a)}),L(()=>{window.removeEventListener("resize",a)}),S(d,i=>{u.value=i.path}),(i,l)=>{const _=o("el-icon"),m=o("el-menu-item"),w=o("el-menu");return p.value?(y(),z("nav",q,[s(w,{mode:"horizontal","default-active":u.value,onSelect:r},{default:t(()=>[s(m,{index:"/user"},{default:t(()=>[s(_,null,{default:t(()=>[s(f(C))]),_:1}),l[0]||(l[0]=e("span",null,"首页",-1))]),_:1,__:[0]}),s(m,{index:"/user/parking",class:"reservation-item"},{default:t(()=>[s(_,null,{default:t(()=>[s(f(V))]),_:1}),l[1]||(l[1]=e("span",null,"预约停车",-1))]),_:1,__:[1]}),s(m,{index:"/user/orders"},{default:t(()=>[s(_,null,{default:t(()=>[s(f(E))]),_:1}),l[2]||(l[2]=e("span",null,"我的订单",-1))]),_:1,__:[2]}),s(m,{index:"/user/chat"},{default:t(()=>[s(_,null,{default:t(()=>[s(f(M))]),_:1}),l[3]||(l[3]=e("span",null,"在线助手",-1))]),_:1,__:[3]})]),_:1},8,["default-active"])])):W("",!0)}}},G=x(A,[["__scopeId","data-v-ea9777bb"]]);const H={name:"UserLayout",components:{BottomNavUser:G},setup(){const c=h(),n=v(""),d=v(window.innerWidth<600);b(()=>{try{const r=JSON.parse(localStorage.getItem("userInfo"));r&&r.phone&&(n.value=r.phone)}catch{}window.addEventListener("resize",()=>{d.value=window.innerWidth<600})});const u=$(()=>n.value?n.value.slice(0,3)+"****"+n.value.slice(-4):"");return{phone:n,isMobile:d,maskedPhone:u,handleLogout:()=>{localStorage.removeItem("token"),localStorage.removeItem("userInfo"),localStorage.removeItem("userType"),c.push("/login")}}}},J={class:"header-content"},F={class:"header-right"},K={class:"user-info"},Q={class:"user-details"},X={class:"user-name"};function Y(c,n,d,u,p,r){const a=o("el-menu-item"),i=o("el-menu"),l=o("el-aside"),_=o("el-dropdown-item"),m=o("el-dropdown-menu"),w=o("el-dropdown"),k=o("el-header"),N=o("router-view"),U=o("el-main"),g=o("el-container"),B=o("BottomNavUser");return y(),D(g,{class:"user-layout"},{default:t(()=>[R(s(l,{width:"240px",class:"sidebar"},{default:t(()=>[n[8]||(n[8]=e("div",{class:"sidebar-header"},[e("div",{class:"logo-container"},[e("img",{src:j,alt:"logo",class:"logo"}),e("h3",{class:"logo-text"},"智慧停车")])],-1)),s(i,{"default-active":c.$route.path,router:"",class:"user-menu"},{default:t(()=>[s(a,{index:"/user",class:"menu-item"},{default:t(()=>n[0]||(n[0]=[e("i",{class:"fa fa-home menu-icon"},null,-1),e("span",null,"首页",-1)])),_:1,__:[0]}),s(a,{index:"/user/dashboard",class:"menu-item"},{default:t(()=>n[1]||(n[1]=[e("i",{class:"fa fa-tachometer menu-icon"},null,-1),e("span",null,"仪表盘",-1)])),_:1,__:[1]}),s(a,{index:"/user/profile",class:"menu-item"},{default:t(()=>n[2]||(n[2]=[e("i",{class:"fa fa-user menu-icon"},null,-1),e("span",null,"个人信息",-1)])),_:1,__:[2]}),s(a,{index:"/user/chat",class:"menu-item"},{default:t(()=>n[3]||(n[3]=[e("i",{class:"fa fa-comments menu-icon"},null,-1),e("span",null,"在线助手",-1)])),_:1,__:[3]}),s(a,{index:"/user/plates",class:"menu-item"},{default:t(()=>n[4]||(n[4]=[e("i",{class:"fa fa-car menu-icon"},null,-1),e("span",null,"车辆管理",-1)])),_:1,__:[4]}),s(a,{index:"/user/parking",class:"menu-item reservation-item"},{default:t(()=>n[5]||(n[5]=[e("i",{class:"fa fa-calendar-plus menu-icon"},null,-1),e("span",null,"预约停车",-1)])),_:1,__:[5]}),s(a,{index:"/user/messages",class:"menu-item"},{default:t(()=>n[6]||(n[6]=[e("i",{class:"fa fa-bell menu-icon"},null,-1),e("span",null,"消息中心",-1)])),_:1,__:[6]}),s(a,{index:"/user/fee-standard",class:"menu-item"},{default:t(()=>n[7]||(n[7]=[e("i",{class:"fa fa-money menu-icon"},null,-1),e("span",null,"收费标准",-1)])),_:1,__:[7]})]),_:1},8,["default-active"])]),_:1,__:[8]},512),[[O,!u.isMobile]]),s(g,null,{default:t(()=>[s(k,{height:"64px",class:"header"},{default:t(()=>[e("div",J,[n[13]||(n[13]=e("div",{class:"header-left"},[e("h2",{class:"header-title"},"龙跃智慧停车场管理系统"),e("p",{class:"header-subtitle"},"用户端")],-1)),e("div",F,[s(w,{class:"user-dropdown"},{dropdown:t(()=>[s(m,{class:"user-dropdown-menu"},{default:t(()=>[s(_,{onClick:u.handleLogout,class:"dropdown-item"},{default:t(()=>n[12]||(n[12]=[e("i",{class:"fa fa-sign-out mr-2"},null,-1),P(" 退出登录 ")])),_:1,__:[12]},8,["onClick"])]),_:1})]),default:t(()=>[e("div",K,[n[10]||(n[10]=e("div",{class:"user-avatar"},[e("i",{class:"fa fa-user"})],-1)),e("div",Q,[e("span",X,T(u.maskedPhone),1),n[9]||(n[9]=e("span",{class:"user-role"},"普通用户",-1))]),n[11]||(n[11]=e("i",{class:"fa fa-chevron-down dropdown-icon"},null,-1))])]),_:1})])])]),_:1}),s(U,{class:"main-content"},{default:t(()=>[s(N)]),_:1})]),_:1}),s(B)]),_:1})}const ne=x(H,[["render",Y],["__scopeId","data-v-5909e881"]]);export{ne as default};
