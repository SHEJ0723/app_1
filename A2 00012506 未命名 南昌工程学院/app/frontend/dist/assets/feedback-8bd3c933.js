import{m as t}from"./index-06309a7e.js";const o=t.create({baseURL:"http://localhost:5000",withCredentials:!0,timeout:1e4,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{const r=localStorage.getItem("token");return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>(console.error("请求错误:",e),Promise.reject(e)));o.interceptors.response.use(e=>e.data,e=>{if(e.response){const{status:r,data:s}=e.response;switch(r){case 400:console.error("请求参数错误:",s.message);break;case 401:console.error("未授权或Token过期:",s.message);break;case 403:console.error("禁止访问:",s.message);break;case 404:console.error("资源不存在:",s.message);break;case 500:console.error("服务器错误:",s.message);break;default:console.error("未知错误:",s.message)}return Promise.reject(s)}else return e.request?(console.error("网络错误，请检查您的网络连接"),Promise.reject(new Error("网络错误，请检查您的网络连接"))):(console.error("请求配置错误:",e.message),Promise.reject(e))});const n=async e=>{try{return await o.post("/api/feedback",e)}catch(r){throw console.error("提交反馈失败:",r),r}},c=async(e={})=>{try{return await o.get("/api/feedback",{params:e})}catch(r){throw console.error("获取反馈列表失败:",r),r}},i=async e=>{try{return await o.delete(`/api/feedback/${e}`)}catch(r){throw console.error("删除反馈失败:",r),r}};export{i as d,c as g,n as s};
