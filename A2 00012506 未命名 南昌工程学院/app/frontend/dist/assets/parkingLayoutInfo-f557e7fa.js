async function c(s,o="user"){const e=localStorage.getItem("token");if(!e)throw new Error("未登录，请先登录");const a=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({messages:s,userType:o})});if(!a.ok)throw a.status===401?new Error("登录已过期，请重新登录"):new Error(`请求失败: ${a.status}`);const t=await a.json();if(t.success)return t.reply;throw new Error(t.message||"API Error")}const n={basic:{name:"龙跃园区停车场",totalSpots:60,entranceExit:2,compass:"N (北向)"},zones:{A:{name:"A区",type:"标准停车区",spots:10,numbering:"A1-A10",layout:"两列垂直排列，左列A1-A5，右列A6-A10",color:"黄色",description:"标准停车位，适合小型车辆"},B:{name:"B区",type:"标准停车区",spots:10,numbering:"B1-B10",layout:"两列垂直排列，左列B1-B5，右列B6-B10",color:"黄色",description:"标准停车位，适合小型车辆"},C:{name:"C区",type:"大型车辆区",spots:10,numbering:"C1-C10",layout:"单列垂直排列，从下到上编号",color:"黄色",description:"专门用于大型车辆停放"},D:{name:"D区",type:"标准停车区",spots:10,numbering:"D1-D10",layout:"单行水平排列，从左到右编号",color:"绿色",description:"标准停车位，适合小型车辆"},E:{name:"E区",type:"无障碍停车区",spots:10,numbering:"E1-E10",layout:"两列垂直排列，左列E1-E5，右列E6-E10",color:"蓝色",description:"无障碍停车位，配备轮椅标识，专为残障人士设计"},F:{name:"F区",type:"标准停车区",spots:10,numbering:"F1-F10",layout:"单行水平排列，从左到右编号",color:"绿色",description:"标准停车位，适合小型车辆"}},specialAreas:{newEnergy:{name:"新能源区域",location:"D区和F区之间",description:"专门为新能源汽车提供充电服务",features:["充电桩","新能源车辆专用","绿色环保"]}},entrances:[{location:"左上角",type:"主出入口",description:"主要车辆进出通道"},{location:"右下角",type:"次出入口",description:"辅助车辆进出通道"}],features:["六个独立停车区域，分区明确","无障碍停车位配备完善","新能源车辆专用充电区域","大型车辆专用停车区","双出入口设计，交通便利","清晰的编号系统和方向指示"]};function l(s){if(!s)return"抱歉，暂时无法获取实时车位状态信息。";let o=`<div class="zone-status-info">
    <h3>🅿️ 各区域车位状态</h3>
    <div class="status-grid">`;return Object.keys(n.zones).forEach(e=>{const a=n.zones[e],t=s[e]||{available:0,total:a.spots},r=t.total-t.available,i=Math.round(t.available/t.total*100);o+=`<div class="status-item">
        <div class="zone-name">${a.name}</div>
        <div class="status-details">
          <span class="available">空闲：${t.available}个</span>
          <span class="occupied">占用：${r}个</span>
          <span class="total">总计：${t.total}个</span>
        </div>
        <div class="percentage">${i}% 空闲</div>
      </div>`}),o+="</div></div>",o}function p(s){return["停车场布局","布局图","车位分布","停车区域","A区","B区","C区","D区","E区","F区","新能源区域","无障碍停车","大型车辆","出入口","车位编号","停车位分布"].some(e=>s.includes(e))}function u(s){return["车位状态","空闲车位","剩余车位","各区域车位","A区车位","B区车位","C区车位","D区车位","E区车位","F区车位","车位占用","车位数量"].some(e=>s.includes(e))}export{u as a,c,l as g,p as i};
