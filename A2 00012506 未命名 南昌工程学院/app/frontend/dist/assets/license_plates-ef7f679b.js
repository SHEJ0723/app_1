import{m as o,n as a}from"./index-06309a7e.js";const t=o.create({baseURL:"http://localhost:5000",withCredentials:!0,timeout:1e4,headers:{"Content-Type":"application/json"}});t.interceptors.request.use(e=>{const s=a();return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>(console.error("请求错误:",e),Promise.reject(e)));t.interceptors.response.use(e=>e.data,e=>{if(e.response){const{status:s,data:r}=e.response;switch(s){case 400:console.error("请求参数错误:",r.message);break;case 401:console.error("未授权或Token过期:",r.message);break;case 403:console.error("禁止访问:",r.message);break;case 404:console.error("资源不存在:",r.message);break;case 500:console.error("服务器错误:",r.message);break;default:console.error("未知错误:",r.message)}return Promise.reject(r)}else return e.request?(console.error("网络错误，请检查您的网络连接"),Promise.reject(new Error("网络错误，请检查您的网络连接"))):(console.error("请求配置错误:",e.message),Promise.reject(e))});const c=async()=>{try{return await t.get("/api/license-plates")}catch(e){throw console.error("获取车牌列表失败:",e),e}},l=async e=>{try{return await t.post("/api/license-plates",e)}catch(s){throw console.error("添加车牌失败:",s),s}},i=async e=>{try{return await t.delete(`/api/license-plates/${e}`)}catch(s){throw console.error("删除车牌失败:",s),s}},p=async e=>{try{return await t.put(`/api/license-plates/set-default/${e}`)}catch(s){throw console.error("设置默认车牌失败:",s),s}};export{l as a,i as d,c as g,p as s};
